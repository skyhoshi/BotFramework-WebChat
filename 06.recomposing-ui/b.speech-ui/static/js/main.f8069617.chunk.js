(this["webpackJsonpsample-customization-speech-ui"]=this["webpackJsonpsample-customization-speech-ui"]||[]).push([[0],{1009:function(e,t){},1010:function(e,t){},135:function(e,t){},1710:function(e,t){},1763:function(e,t){},1765:function(e,t){},1770:function(e,t){},1771:function(e,t){},1772:function(e,t){},1773:function(e,t){},1777:function(e,t){},1892:function(e,t,n){"use strict";n.r(t);var a,c=n(1),r=n.n(c),i=n(130),o=n.n(i),s=(n(789),n(30)),u=n.n(s),l=n(152),p=n(0),f=n(2),m=n(4),h=n(5),v=(n(791),n(75)),d=v.Components.connectDictationInterims,C=v.Constants.DictateState,b=C.DICTATING,y=C.STARTING,w=d()((function(e){var t=e.className,n=e.dictateInterims,a=e.dictateState;return(a===y||a===b)&&!!n.length&&r.a.createElement("p",{className:t},n.map((function(e,t){return r.a.createElement("span",{key:t},e,"\xa0")})))})),k=n(17),L=n.n(k),E=function(e){var t=e.className,n=e.size,a=void 0===n?22:n;return r.a.createElement("svg",{className:(t||"")+"",height:a,viewBox:"0 0 58 58",width:a},r.a.createElement("path",{d:"M 44 28 C 43.448 28 43 28.447 43 29 L 43 35 C 43 42.72 36.72 49 29 49 C 21.28 49 15 42.72 15 35 L 15 29 C 15 28.447 14.552 28 14 28 C 13.448 28 13 28.447 13 29 L 13 35 C 13 43.485 19.644 50.429 28 50.949 L 28 56 L 23 56 C 22.448 56 22 56.447 22 57 C 22 57.553 22.448 58 23 58 L 35 58 C 35.552 58 36 57.553 36 57 C 36 56.447 35.552 56 35 56 L 30 56 L 30 50.949 C 38.356 50.429 45 43.484 45 35 L 45 29 C 45 28.447 44.552 28 44 28 Z"}),r.a.createElement("path",{d:"M 28.97 44.438 L 28.97 44.438 C 23.773 44.438 19.521 40.033 19.521 34.649 L 19.521 11.156 C 19.521 5.772 23.773 1.368 28.97 1.368 L 28.97 1.368 C 34.166 1.368 38.418 5.772 38.418 11.156 L 38.418 34.649 C 38.418 40.033 34.166 44.438 28.97 44.438 Z"}),r.a.createElement("path",{d:"M 29 46 C 35.065 46 40 41.065 40 35 L 40 11 C 40 4.935 35.065 0 29 0 C 22.935 0 18 4.935 18 11 L 18 35 C 18 41.065 22.935 46 29 46 Z M 20 11 C 20 6.037 24.038 2 29 2 C 33.962 2 38 6.037 38 11 L 38 35 C 38 39.963 33.962 44 29 44 C 24.038 44 20 39.963 20 35 L 20 11 Z"}))},g=(0,v.Components.connectMicrophoneButton)()((function(e){var t=e.className,n=e.click,a=e.dictating,c=e.disabled;return r.a.createElement("button",{className:L()(t,{dictating:a}),disabled:c,onClick:n},r.a.createElement(E,{size:"10vmin"}))})),S=0;function x(){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return t=e.sent,n=t.region,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return t=e.sent,n=t.token,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),(!a||t-S>3e5)&&(a=fetch("https://webchat-mockbot.azurewebsites.net/speechservices/token",{method:"POST"}).then((function(e){return e.json()})).catch((function(){S=0})),S=t),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=v.Components.SpeakActivity,z=Object(v.connectToWebChat)((function(e){return{activity:e.activities.slice().reverse().find((function(e){var t=e.from.role,n=e.type;return"bot"===t&&"message"===n}))}}))((function(e){var t=e.activity;return!!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t.text),t.channelData&&t.channelData.speak&&r.a.createElement(T,{activity:t}))})),P=v.Components.Composer,F=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={directLine:null,webSpeechPonyfillFactory:null},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://webchat-mockbot.azurewebsites.net/directline/token",{method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=n.token,e.t0=v.createCognitiveServicesSpeechServicesPonyfillFactory,e.t1=j,e.next=11,x();case 11:return e.t2=e.sent,e.t3={authorizationToken:e.t1,region:e.t2},e.next=15,(0,e.t0)(e.t3);case 15:c=e.sent,this.setState((function(){return{directLine:Object(v.createDirectLine)({token:a}),webSpeechPonyfillFactory:c}}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.directLine,n=e.webSpeechPonyfillFactory;return!!t&&!!n&&r.a.createElement(P,{directLine:t,webSpeechPonyfillFactory:n},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(g,{className:"App-speech-button"}),r.a.createElement(w,{className:"App-speech-interims"}),r.a.createElement(z,{className:"App-bot-activity"}))))}}]),n}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},198:function(e,t){},772:function(e,t){},774:function(e,t){},775:function(e,t){},776:function(e,t){},777:function(e,t){},778:function(e,t){},784:function(e,t,n){e.exports=n(1892)},789:function(e,t,n){},791:function(e,t,n){},955:function(e,t){},957:function(e,t){}},[[784,1,2]]]);
//# sourceMappingURL=main.f8069617.chunk.js.map